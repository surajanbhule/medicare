<mat-card class="mt-2">
   <mat-card-title>Admin Home</mat-card-title> 
</mat-card>
<div class="row row-cols-1 row-cols-md-5 mt-3 mb-5 gap-5">
    <mat-card class="ms-2">
    <div class="text-center">
        <img src="../../../../assets/users_icon.png" height="100px" width="100px" alt="">
    </div> 
     <mat-card-subtitle class="text-center mt-1">Users</mat-card-subtitle>
       
        <mat-chip-list>
        <span class="empty-space">..................</span><mat-chip >{{users.length}}</mat-chip>
        </mat-chip-list> 
   
    </mat-card>

    <mat-card>
        <div class="text-center">
            <img src="../../../../assets/orders_icon.png" height="100px" width="100px" alt="">
        </div>
        <mat-card-subtitle class="text-center mt-1">Orders</mat-card-subtitle>
        <mat-chip-list>
        <span class="empty-space">..................</span><mat-chip>{{orders.length}} </mat-chip>
        </mat-chip-list>
    </mat-card>

    <mat-card>
        <div class="text-center">
            <img src="../../../../assets/payments.png" height="100px" width="100px" alt="">
        </div>
        <mat-card-subtitle class="text-center mt-1">Payment Received</mat-card-subtitle>
        <mat-chip-list>
            <span class="empty-space"></span> <img src="../../../../assets/cash.gif" width="30px" alt=""><mat-chip>{{paymentRecieved| currency:'INR'}} </mat-chip>
        </mat-chip-list>
    </mat-card>

    <mat-card>
        <div class="text-center">
         <img src="../../../../assets/pending_payments.png" height="100px" width="100px" alt="">
        </div>
        <mat-card-subtitle class="text-center mt-1">Pending Payment</mat-card-subtitle>
        <mat-chip-list>
        <span class="empty-space">.......</span><img src="../../../../assets/cash.gif" width="30px" alt=""><mat-chip>{{pendingPayment}}</mat-chip>
        </mat-chip-list>
    </mat-card>
</div>
<mat-accordion class="example-headers-align">
    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title>
                All Orders
            </mat-panel-title>
        </mat-expansion-panel-header>

<div class="mt-1">
    <mat-card class="mt-1" *ngFor="let o of orders">

        <button mat-button color="warn" *ngIf="o.order_status != 'COMPLETED'">
            <mat-icon>send</mat-icon> Pending
        </button>
        <button mat-button color="basic" *ngIf="o.order_status == 'COMPLETED'">
            <mat-icon>download_done</mat-icon> Deliverd
        </button>


        <mat-card-header class="mt-1">
            <mat-card-title> Order Amount : <img src="../../../../assets/cash.gif" width="25px" alt=""> {{o.total |
                currency:'INR'}}</mat-card-title>
        </mat-card-header>
        <mat-accordion class="example-headers-align">
            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        Order Details
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <mat-card-subtitle>
                    User : <span class="user-deatils">{{o.user.first_name}} {{o.user.last_name}} </span>
                    Phone: <span class="user-deatils">{{o.user.user_phone}} </span>
                    Email: <span class="user-deatils">{{o.user.user_email}} </span>
                </mat-card-subtitle>




                <mat-card-subtitle>Address : Om Hostel Vadgoan Road, Near Modern Fitness Center Pune, 411041
                </mat-card-subtitle>
                <mat-card-subtitle>Order Placed : {{o.order_date}}</mat-card-subtitle>
                <mat-card-subtitle>{{o.order_status}}</mat-card-subtitle>

                <mat-card-subtitle *ngIf="o.payment_status == 'Cash on delivery'">Payment : <img
                        src="../../../../assets/cash.gif" width="25px" alt=""> {{o.payment_status}}
                </mat-card-subtitle>
                <mat-card-subtitle *ngIf="o.payment_status != 'Cash on delivery'">
                    Payment : <img src="../../../../assets/checkicon.gif" width="25px" alt=""> Paid
                </mat-card-subtitle>


                <mat-accordion class="example-headers-align">
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Purchased Products
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-card-content>
                            <mat-list>
                                <mat-list-item *ngFor="let p of o.product_list">
                                    <img mat-list-avatar [src]="p.productImages[0].url" alt="">
                                    <div matLine>{{p.product_name}}</div>
                                    <div matLine>Payable Amount : {{p.product_selling_price | currency:'INR' }}</div>
                                </mat-list-item>
                            </mat-list>
                        </mat-card-content>

                    </mat-expansion-panel>

                </mat-accordion>

            </mat-expansion-panel>
        </mat-accordion>

    </mat-card>

</div>
</mat-expansion-panel>
</mat-accordion>
